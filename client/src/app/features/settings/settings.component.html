<!-- src/app/features/settings/settings.component.html -->
<div class="settings-container">
  <div class="sidebar">
    <ul>
      <li (click)="selectOption('profile')" [class.active]="selectedOption === 'profile'">Profile</li>
      <li (click)="selectOption('updatePassword')" [class.active]="selectedOption === 'updatePassword'">Update Password</li>
    </ul>
  </div>

  <div class="content">
    <!-- Profile Form -->
    <div *ngIf="selectedOption === 'profile'">
      <h2>Profile</h2>
      <form [formGroup]="profileForm" (ngSubmit)="updateProfile()">
        <div class="form-group">
          <label for="username">Username:</label>
          <input
            type="text"
            id="username"
            [value]="user.username"
            name="username"
            disabled
          />
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            formControlName="email"
            name="email"
            required
          />
        </div>

        <div class="form-group">
          <label for="address">Address:</label>
          <input
            type="text"
            id="address"
            formControlName="address"
            name="address"
          />
        </div>

        <div *ngIf="successMessage" class="alert alert-success" style="max-width: 300px; width: 100%;">
          {{ successMessage }}
        </div>
        <div *ngIf="errorMessage" class="alert alert-danger" style="max-width: 300px; width: 100%;">
          {{ errorMessage }}
        </div>

        <button type="submit" class="btn btn-primary">Update Profile</button>
      </form>
    </div>

    <!-- Update Password Form -->
    <div *ngIf="selectedOption === 'updatePassword'">
      <h2>Update Password</h2>
      <form (ngSubmit)="updatePassword()">
        <div class="form-group">
          <label for="currentPassword">Current Password:</label>
          <input
            type="password"
            id="currentPassword"
            [(ngModel)]="currentPassword"
            name="currentPassword"
            required
          />
        </div>

        <div class="form-group">
          <label for="newPassword">New Password:</label>
          <input
            type="password"
            id="newPassword"
            [(ngModel)]="newPassword"
            name="newPassword"
            required
          />
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm New Password:</label>
          <input
            type="password"
            id="confirmPassword"
            [(ngModel)]="confirmPassword"
            name="confirmPassword"
            required
          />
        </div>
  
      <div *ngIf="errorMessage" class="alert alert-danger" style="max-width: 300px; width: 100%;">{{ errorMessage }}</div>
      <div *ngIf="successMessage" class="alert alert-success" style="max-width: 300px; width: 100%;">{{ successMessage }}</div>
  
      <button type="submit" class="btn btn-primary">Update Password</button>
      </form>
    </div>
  </div>
</div>